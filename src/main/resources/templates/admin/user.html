<!DOCTYPE html>
<html xmln:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Insert title here</title>
	<script src="https://code.jquery.com/jquery-3.7.0.min.js"></script>
	<link rel="stylesheet" href="./user.css" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="//code.jquery.com/jquery.min.js"></script>
    <script src="//maxcdn.bootstrapcdn.com/bootstrap/latest/js/bootstrap.min.js"></script>
	<script>
	     $(function(){
	        $(".search-bar input")
	        .focus(function () {
	        $(".header").addClass("wide");
	        })
	        .blur(function () {
	        $(".header").removeClass("wide");
	        });
	    

            $('#open-modal').click(function(e){
                e.preventDefault();
                $('.main-modal').modal("show");
                $("#btnUpdate").css('display', 'inline-block');
                $("#btnDelete").css('display', 'inline-block');
            });
            
            $('#btnInsert').click(function(e){
                e.preventDefault();
                $('.main-modal').modal("show");
                $("#btnUpdate").css('display', 'none');
                $("#btnDelete").css('display', 'none');
            });
        })
    </script> 
</head>
<body style="background-color:black" >

<div class="container-scroller">
    <!-- 사이드바 -->
    <nav id="sidebar-all">
        <ul class="sidebar">
            <li class="sidebar-user">
                Ketchby
            </li>
            <li><a href="#">Dashboard</a></li>
            <li><a href="#">사용자 관리</a></li>
            <li><a href="#">문의 관리</a></li>
            <li><a href="#">공지사항 관리</a></li>
            <li><a href="#">클래스 관리</a></li>
            <li><a href="#">게시판 관리</a></li>
        </ul>
    </nav>
    <div id="page" class="page">

        <!-- 본문 헤더-->
        <div id="page-header">

        </div>
        <div class="main-wrapper">
        <div class="main-table">
            <h2>사용자</h2>
            <p th:text="총 사용자: ${member}"></p>
          	<div class="app">
                <div id="search5back">
                    <form method="get" action="/search" id="searchbox5">
                        <input id="search5" name="q" type="text" size="40" placeholder="Search" />
                    </form>
                  </div>
                  <table class="table table-dark table-hover">
                    <thead>
                    <tr>
                        <th>아이디</th>
                        <th>이메일</th>
                        <th>이름</th>
                        <th>상세보기</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr th:each="m:${list}">
                        <td th:text="${m.aid}"></td>
                        <td th:text="${m.email}"></td>
                        <td th:text="${m.name_}"></td>
                        <td id="open-modal" name="open-modal" value="${m.aid}">
                            <span data-bs-toggle="modal" data-bs-target="#myModal">액션</span>
                        </td>
                    </tr>
                    </tbody>
                </table>
                
                <button type="button" class="btn btn-danger" id="btnInsert" name="btnInsert">추가</button>
            </div>
        </div>
    </div>
</div>

<!-- The Modal -->
<div class="modal fade" id="myModal">
    <div class="modal-dialog modal-dialog-scrollable modal-dialog-centered modal-xl modal-dialog-centered">
      <div class="modal-content">
  
        <!-- Modal Header -->
        <div class="modal-header">
          <h4 class="modal-title">이름</h4>
          <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
        </div>
  
        <!-- Modal body -->
        <form>
	        <div class="modal-body">
	            <table class="modal-table">
	                <tr>
	                    <td>이름</td>
	                    <td>아이디</td>
	                </tr>
	                <tr>
	                    <td>
	                        <input class="modal-input" type="text" name="name_">
	                    </td>
	                    <td>
	                        <input class="modal-input" type="text" name="aid">
	                    </td>
	                </tr>
	                <tr>
	                    <td>이메일</td>
	                    <td>레벨</td>
	                </tr>
	                <tr>
	                    <td>
	                        <input class="modal-input" type="text" name="email">
	                    </td>
	                    <td>
	                        <input class="modal-input" type="text" name="alevel">
	                    </td>
	                </tr>
	                <tr>
	                    <td>비밀번호</td>
	                    <td>닉네임</td>
	                </tr>
	                <tr>
	                    <td>
	                        <input class="modal-input" type="text" name="password">
	                    </td>
	                    <td>
	                        <input class="modal-input" type="text" name="anick">
	                    </td>
	                </tr>
	                <tr>
	                    <td>전화번호</td>
	                    <td>이미지파일</td>
	                </tr>
	                <tr>
	                    <td>
	                        <input class="modal-input" type="text" name="phone">
	                    </td>
	                    <td>
	                        <input class="modal-input" type="text" name="file">
	                    </td>
	                </tr>
	            </table>
	
	        </div>
 	 	</form>	
        <!-- Modal footer -->
        <div class="modal-footer">
          <button type="button" class="btn btn-danger" id="btnUpdate" name="btnUpdate" data-bs-dismiss="modal">수정</button>
          <button type="button" class="btn btn-danger" id="btnDelete" name="btnDelete" data-bs-dismiss="modal">삭제</button>
          <button type="button" class="btn btn-danger" id="btnClose" name="btnClose" data-bs-dismiss="modal">닫기</button>
        </div>
  
      </div>
    </div>
  </div>
</body>
</html>
